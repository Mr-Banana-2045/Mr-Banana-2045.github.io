<html lang="en">
	<title>admin</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable = no"/>
	<body>
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<code>
		<h1>News panel</h1>
		<p style="margin-top:50px; color:red; font-weight:500; font-size:15px; text-align:center;">This page is designed for news website administrators</p>
		<p style="font-weight:200; text-align:center;">Share the news of the day without any problems</p>
		<form method="post" action="https://sheetdb.io/api/v1/fl71dpwf0svgb" id="sheetdb-form">
		<input id="po" name="data[ip]" hidden>
	<div class="ok">
		<center>
<label>Add news image: <input type="text" name="data[img]"></label><br>
<label>Add news message: <input type="text" name="data[text]"></label><br>
<label>Add news address: <input type="text" name="data[url]"></label><br>
<label>Add news date: <input type="date" name="data[date]"></label><br>
<button class="button" type="submit" onclick="showMessage()">post</button>
</div>
</center>
</form>
<div id="message">sending...</div>
</code>
<div id="dialog">
        <h2>login admin</h2>
        <input type="password" id="passwordInput" placeholder="Enter password ...">
        <br>
        <button id="submitButton">login</button>
        <p id="errorMessage" style="color: red; display: none;">The password is incorrect</p>
    </div>
<script src="https://sheetdb.io/handlebars.js"></script>
</body>
<style>
	body{
		background:#DCDCDC;
		}
		h1{
			color:white;
			padding:5px;
			text-align:center;
			position: absolute;
			left:0;
			right:0;
			top:-19px;
			background: gray;
			}
			.ok{
				padding-top:50px;
				position:fixed;
				top:35%;
				}
				button{
					color:white;
					background: gray;
					outline:none;
					border:none;
					padding:5px;
					width:200px;
					font-size:15px;
					border-radius:5px;
					font-weight:500;
					margin-top:10px;
					}
					label{
						color:black;
						font-weight:500;
						margin-left:10px;
						}
						input[type="text"]{
							margin-top:5px;
							outline:none;
							color:black;
							border-radius: 5px;
							background:none;
							border:2px solid gray;
						}
						input[type="date"]{
							background:none;
							color:black;
							border:2px solid gray;
							border-radius: 5px;
							outline:none;
							height:22px;
							margin-top:5px;
							width:180px;
							}
						#message {
            font-size: 20px;
            margin-top: 20px;
            display: none;
            color:white;
            padding:5px;
            border-radius:20px;
            padding-top:5%;
            font-size:25px;
            font-weight:500;
            padding-left:25%;
            background: gray;
            position: fixed;
            top:40%;
            left:40px;
            right:40px;
            height:50px;
        }
        input[type="password"]{
							margin-top:5px;
							outline:none;
							color:black;
							border-radius: 5px;
							background:none;
							border:2px solid gray;
							}
        #submitButton{
					color:white;
					background: gray;
					outline:none;
					border:none;
					padding:5px;
					width:200px;
					
					font-size:15px;
					border-radius:5px;
					font-weight:500;
					margin-top:10px;
					}
        #dialog {
            position: fixed;
            top: 0;
            bottom: 0;
            right:0;
            left:0;
            text-align: center;
            padding: 20px;
            background-color: #DCDCDC;
        }
	</style>
	<script>
  var form = document.getElementById('sheetdb-form');
  form.addEventListener("submit", e => {
    e.preventDefault();
    fetch(form.action, {
        method : "POST",
        body: new FormData(document.getElementById("sheetdb-form")),
    }).then(
        response => response.json()
    ).then((html) => {
      window.location.href = 'http://Mr-Banana-2045.github.io/news.html';
    });
  });
</script>
<script>
    	async function getUserIP() {
  try {
    const response = await fetch('https://api.ipify.org?format=json');
    const data = await response.json();
    document.getElementById('po').value = data.ip;
  } catch (error) {
    console.error('hello:', error);
  }
}
getUserIP();
</script>
<script>
        var expectedPassword = "moz";
        document.getElementById('submitButton').addEventListener('click', function() {
            var passwordInput = document.getElementById('passwordInput').value;
            if (passwordInput === expectedPassword) {
            	document.getElementById('dialog').style.display = 'none';
            } else {
                document.getElementById('errorMessage').style.display = 'block';
            }
});
    </script>
<script>
	function showMessage() {
            var messageDiv = document.getElementById("message");
            messageDiv.style.display = "block";
        }
	</script>
</html>
